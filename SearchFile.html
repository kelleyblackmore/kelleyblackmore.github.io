<!DOCTYPE HTML>
<html>
<head>
    <title>FileSearchTool</title>
    <style></style>
    </head>
<style></style>
<script>
    //for the load all function
    function startRead1(){
    var file = document.getElementById('file').files[0];
    if(file){
       getAsText1(file);
       }
    }
    
    function getAsText1(readFile){
        var reader1;
        try{
            reader1 = new FileReader();
        }catch(e){
            document.getElementById('output').innerHTML = "Error: seems File API is not supported on your browser";
            return;
        }
        //read file into memory as UTF-8
        reader1.readAsText(readFile, "UTF-8");
        
        reader1.onload = loadall;
        reader1.onerror = errorHandler;
        
    }
    
    //above load all
    
    
    //read file for search
    function startRead(){
    var file = document.getElementById('file').files[0];
    if(file){
       getAsText(file);
       }
    }
    
    function getAsText(readFile){
        var reader;
        try{
            reader = new FileReader();
        }catch(e){
            document.getElementById('output').innerHTML = "Error: seems File API is not supported on your browser";
        }
        //read file into memory as UTF-8
        reader.readAsText(readFile, "UTF-8");
        reader.onload = loaded;
        reader.onerror = errorHandler;
        
    }
    function loadall(evt){
        var fileString = evt.target.result;
        document.getElementById('output').innerHTML =fileString;
        conlose.log(fileString);
        
    }
    function loaded(evt){
        //obtain the read file data
        var fileString = evt.target.result;
        var src = document.getElementById("search").value;
        
        var fstring = fileString.search(src);
        document.getElementById('output').innerHTML = (fileString[fstring]+fileString[fstring+1]+fileString[fstring+2]+fileString[fstring+3]+fileString[fstring+4]+fileString[fstring+5]);
        
        
    }
    function errorHandler(evt){
        if(evt.target.error.code == evt.target.error.NOT_READABLE_ERR){
            //file could not be read
            document.getElementById('output').innerHTML = "Error reading file"
        }
        
        
    }
    
    </script>
    
    <body>
    <h1>file searcher</h1>
        <form>
        <p><input id="file" multiple="multiple" type="file"></p>
        </form>
        <div><form><input type="text" name"search" id="search" placeholder="Enter here to search"></form></div>
    <div><button onclick="startRead()" onclick="loaded()">Search</button>
        <button onclick="startRead1()" onclick="loadall()">Load all</button>
        </div>
        <pre><code id="output"></code></pre>
    </body>
</html>